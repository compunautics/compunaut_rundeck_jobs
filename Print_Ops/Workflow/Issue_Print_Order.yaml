- defaultTab: summary
  description: Use this job to issue a print order to the fleet.
  executionEnabled: true
  group: Workflow
  loglevel: INFO
  multipleExecutions: true
  name: Issue Print Order
  nodeFilterEditable: false
  nodefilters:
    dispatch:
      excludePrecedence: true
      keepgoing: true
      rankOrder: ascending
      successOnEmptyNodeFilter: false
      threadcount: '1'
    filter: 'name: .*rundeck.*'
  nodesSelectedByDefault: true
  options:
  - description: |-
      Input the gcode files' filament category.
      - Use the format ${color}_${filament}.
      - This setting will later be used to register filaments on printers.
    enforced: true
    name: filament_category
    required: true
    valuesUrl: http://localhost:8080/get_dir_contents.py?dir=/var/rundeck/projects/Print_Ops/gcodes/
  - description: |-
      Input the gcode files' client category.
      - This category exists to classify gcodes according to client.
    enforced: true
    name: client_category
    required: true
    valuesUrl: http://localhost:8080/get_dir_contents.py?dir=/var/rundeck/projects/Print_Ops/gcodes/${option.filament_category.value}
  - description: |-
      Input the gcode files' sub category.
      - This category exists for any arbitrary sub classification you may wish to use.
    enforced: true
    name: sub_category
    required: true
    valuesUrl: http://localhost:8080/get_dir_contents.py?dir=/var/rundeck/projects/Print_Ops/gcodes/${option.filament_category.value}/${option.client_category.value}
  - delimiter: ' '
    description: Input the gcode file to delete.
    enforced: true
    multivalued: true
    name: gcode_file
    required: true
    valuesUrl: http://localhost:8080/get_dir_contents.py?dir=/var/rundeck/projects/Print_Ops/gcodes/${option.filament_category.value}/${option.client_category.value}/${option.sub_category.value}
  - description: Input how many of this print you would like.
    name: how_many
    regex: \d+
    required: true
  scheduleEnabled: true
  sequence:
    commands:
    - description: placeholder
      script: |-
        #!/usr/bin/python

        # IMPORT MODULES
        # DEFINE VARS
        # GET AVAILABLE PRINTERS
        # COMPARE TO HOW_MANY
        # ISSUE JOBS
    keepgoing: true
    strategy: node-first
  timeout: 48h

